(function(t){class e{constructor(e,s,i){let h=()=>{};Object.defineProperties(this,{parent:{value:e},input:{value:s},index:{value:0,writable:!0},list:{value:i},sublist:{value:[],writable:!0},noResult:{value:document.createElement("li")},onSearch:{get:()=>h,set:t=>{"function"==typeof t&&(h=t)}}}),this.noResult.appendChild(document.createTextNode("no result")),t.addEventListener("click",t=>{this.clear()}),this.input.addEventListener("keydown",this.search.bind(this)),this.input.addEventListener("keypress",this.search.bind(this)),this.input.addEventListener("keyup",this.search.bind(this)),this.input.addEventListener("paste",this.search.bind(this)),this.input.addEventListener("change",this.search.bind(this))}show(){return this.parent.classList.add("show"),this}hide(){return this.parent.classList.remove("show"),this}reset(){for(this.parent.classList.remove("show");this.parent.firstChild;)this.parent.removeChild(this.parent.firstChild);return this}clearSublist(){return this.index=0,this.sublist=[],this}clear(){return this.index=0,this.sublist=[],this.input.value="",this.reset()}highlight(t=!1){return this.sublist.forEach((e,s)=>{s!==this.index||t?e.classList.remove("highlight"):(e.classList.add("highlight"),e.scrollIntoView())}),this}createListElement(t){const e=document.createElement("li"),s=`${t.name.substring(0,t.start)}<strong>${t.name.substring(t.start,t.end)}</strong>${t.name.substring(t.end)}`;return e.innerHTML=`<span class="search-name">${s}</span><span class="search-group">${t.group}</span>`,e.onclick=(e=>{window.location=t.href}),e}createList(t){this.reset().clearSublist().show();const e=document.createElement("ul");return e.onmouseenter=(t=>{this.highlight(!0),this.input.blur(),this.input.focus()}),t.length>0?t.forEach((t,s)=>{this.sublist.push(this.createListElement(t,s)),e.appendChild(this.sublist[this.sublist.length-1])}):e.appendChild(this.noResult),e}search(t){if(38===t.keyCode||38===t.which||"ArrowUp"===t.code||"ArrowUp"===t.key)return"keydown"===t.type&&(this.highlight(),this.index-=1,this.index=this.index<0?this.sublist.length-1:this.index%this.sublist.length),this;if(40===t.keyCode||40===t.which||"ArrowDown"===t.code||"ArrowDown"===t.key)return"keydown"===t.type&&(this.highlight(),this.index=(this.index+1)%this.sublist.length),this;if("keyup"!==t.type||13!==t.charCode&&13!==t.keyCode&&13!==t.which&&"Enter"!==t.code&&"Enter"!==t.key){const t=this.input.value.trim().toLowerCase();if(""===t)return this.clear();const e=[];this.list.forEach(s=>{const i=s.name.toLowerCase();if(i.includes(t)){const h=i.indexOf(t);s.start=h,s.end=h+t.length,e.push(s)}}),this.parent.appendChild(this.createList(e)),this.onSearch()}else if(this.sublist.length>0)return this.sublist[this.index].click(),this;return this}}t.SearchList=e})(window);