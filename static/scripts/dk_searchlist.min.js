(function(t){class e{constructor(e,s,i){let h=()=>{};Object.defineProperties(this,{parent:{value:e},input:{value:s},index:{value:0,writable:!0},list:{value:i},sublist:{value:[],writable:!0},noResult:{value:t.document.createElement("li")},onSearch:{get:()=>h,set:t=>{"function"==typeof t&&(h=t)}}}),this.noResult.appendChild(t.document.createTextNode("no result")),t.addEventListener("click",this.clear.bind(this)),this.input.addEventListener("keydown",this.search.bind(this)),this.input.addEventListener("keypress",this.search.bind(this)),this.input.addEventListener("keyup",this.search.bind(this)),this.input.addEventListener("paste",this.search.bind(this)),this.input.addEventListener("change",this.search.bind(this))}show(){return this.parent.classList.add("show"),this}hide(){return this.parent.classList.remove("show"),this}reset(){for(this.parent.classList.remove("show");this.parent.firstChild;)this.parent.removeChild(this.parent.firstChild);return this}clearSublist(){return this.index=0,this.sublist=[],this}clear(){return this.input.value="",this.reset().clearSublist()}highlightSearch(t=!1){return this.sublist.forEach((e,s)=>{s!==this.index||t?e.classList.remove("highlight"):(e.classList.add("highlight"),e.scrollIntoView())}),this}highlighPage(e="add"){const s=t.location.hash.replace("#",""),i=t.document.getElementById(s);return i&&("function"==typeof i.classList[e]&&i.classList[e]("highlight"),i.scrollIntoView()),this}createListElement(e){const s=t.document.createElement("li"),i=`${e.name.substring(0,e.start)}<strong>${e.name.substring(e.start,e.end)}</strong>${e.name.substring(e.end)}`;return s.innerHTML=`<span class="search-name"><a href="${e.href}">${i}</a></span><span class="search-group ${e.type}">${e.group}</span>`,s.onclick=(s=>{this.highlighPage("remove"),t.location.href=e.href,this.highlighPage()}),s}createList(e){this.reset().clearSublist().show();const s=t.document.createElement("ul");return s.onmouseenter=(()=>{this.highlightSearch(!0),this.input.blur(),this.input.focus()}),s.onmouseleave=(()=>{this.highlightSearch()}),e.length>0?e.forEach((t,e)=>{this.sublist.push(this.createListElement(t,e)),s.appendChild(this.sublist[this.sublist.length-1])}):s.appendChild(this.noResult),this.highlightSearch(),s}search(t){if(38===t.keyCode||38===t.which||"ArrowUp"===t.code||"ArrowUp"===t.key)return"keydown"===t.type&&this.sublist.length>0&&(this.index-=1,this.index=this.index<0?this.sublist.length-1:this.index%this.sublist.length,this.highlightSearch()),this;if(40===t.keyCode||40===t.which||"ArrowDown"===t.code||"ArrowDown"===t.key)return"keydown"===t.type&&this.sublist.length>0&&(this.index=(this.index+1)%this.sublist.length,this.highlightSearch()),this;if(13===t.charCode||13===t.keyCode||13===t.which||"Enter"===t.code||"Enter"===t.key)return"keydown"===t.type&&this.sublist.length>0&&this.sublist[this.index].click(),this;const e=this.input.value.trim().toLowerCase();if(""===e)return this.clear();const s=[];return this.list.forEach(t=>{const i=t.name.toLowerCase();if(i.includes(e)){const h=i.indexOf(e);t.start=h,t.end=h+e.length,s.push(t)}}),this.parent.appendChild(this.createList(s)),this.onSearch(s),this}}t.SearchList=e})(window);